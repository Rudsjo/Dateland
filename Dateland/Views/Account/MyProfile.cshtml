@model User
@inject MyProfileViewModel vm

@{ 
    // Set up the profile
    await vm.SetupMyProfile();
}

<section class="myProfile">
    <div class="container">
        <div class="info">
            <div class="description padding-right animate-left">
                <div class="global-headline">
                    <h1 class="headline headline-dark">Allmänt</h1>
                    <img src="@Model.ProfilePictureUrl" alt="" class="si-img-chosen" />
                    <div class="asterisk"><i class="fas fa-heart"></i></div>
                </div>
                <form method="post">

                    <div class="form-group profile-form">
                        <input class="form-control" asp-for="@Model.FirstName" />
                    </div>

                    <div class="form-group profile-form">
                        <input class="form-control" asp-for="@Model.LastName" />
                    </div>

                    <div class="form-group profile-form">
                        <input class="form-control" asp-for="@Model.DateOfBirth" />
                    </div>

                    <div class="form-group profile-form">
                        <input class="form-control" asp-for="@Model.Description" height="100"/>
                    </div>

                    <div class="form-group profile-form">
                        <input type="submit" asp-route-id="@Model.Id" asp-action="SaveChanges" asp-controller="Account" class="btn cta-btn-dark" value="Spara">
                    </div>

                </form>
            </div>

            <!-- Höger sida -->
            <div class="animate-right">
                <div class="global-headline">
                    <h1 class="headline headline-dark">Mina favoriter</h1>
                </div>
                <form method="post">

                    <div class="form-group profile-form">
                        <label for="1">Favoritmat</label>
                        <select name="1" id="1" class="form-control">
                            @foreach (var food in vm.Foods)
                            {
                                if (food.FoodName.Equals("None"))
                                    continue;
                                else if (food.FoodName.Equals(Model.Food.FoodName) && Model.Food != null)
                                {
                <option selected>@food.FoodName</option>
 }
            else
            {
                <option>@food.FoodName</option>
}
        };
                        </select>
                    </div>

                    <div class="form-group profile-form">
                        <label for="1">Favoritmusik</label>
                        <select name="1" id="1" class="form-control">
                            @foreach (var music in vm.Musics)
                            {
                                if (music.MusicGenre.Equals("None"))
                                    continue;
                                else if (music.MusicGenre.Equals(Model.Music.MusicGenre) && Model.Music != null)
                                {
                <option selected>@music.MusicGenre</option>
 }
            else
            {
                <option>@music.MusicGenre</option>
}
        };
                        </select>
                    </div>

                    <div class="form-group profile-form">
                        <label for="1">Favoritfilm</label>
                        <select name="1" id="1" class="form-control">
                            @foreach (var movie in vm.Movies)
                            {
                                if (movie.MovieName.Equals("None"))
                                    continue;
                                else if (movie.MovieName.Equals(Model.Movie.MovieName) && Model.Movie != null)
                                {
                                    <option selected>@movie.MovieName</option>
                                }
                                else
                                {
                                    <option id="sel">@movie.MovieName</option>}
                                };
                        </select>
                    </div>

                    <div class="form-group profile-form">
                        <input type="submit" asp-route-id="@Model.Id" asp-route-vm="@vm" asp-action="SaveFavorites" 
                               asp-controller="Account" class="btn cta-btn-dark" value="Spara">
                    </div>

                </form>

                <div class="global-headline">
                    <h1 class="headline headline-dark">Mina intressen</h1>
                </div>
                <form method="post">

                    <div class="interest-list">

                        @foreach (var interest in vm.Interests)
                        {
                            if (interest.InterestName.Equals("None"))
                            {
                                continue;
                            }
                            else if (Model.UserInterests.Any(x => x.Interest.InterestName.Equals(interest.InterestName)))
                            {
                                <div class="form-group profile-form">
                                    <input type="checkbox" id="intresse1" checked>
                                    <label for="intresse1">@interest.InterestName</label>
                                </div>
                            }
                            else
                            {
                                <div class="form-group profile-form">
                                    <input type="checkbox" id="intresse1">
                                    <label for="intresse1">@interest.InterestName</label>
                                </div>
                            }

                        }

                    </div>

                    <div class="form-group profile-form">
                        <input type="submit" class="btn cta-btn-dark" value="Spara">
                    </div>

                </form>
            </div>
        </div>
    </div>
</section>
